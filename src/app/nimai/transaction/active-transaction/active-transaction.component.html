<div id="myCanvasNav" class="overlay3" (click)="closeOffcanvas()"></div>
<div class="content">
  <div class="container-fluid">
     <div class="row">
        <div class="col-md-12">
           <div class="card">
              <div class="card-header card-header-icon" data-background-color="blue">
                 <i class="fa fa-check-square-o"></i>
              </div>
              <div class="card-content">
                <h4 class="card-title"> <span id="changetext"> Active Transaction</span> <a style="cursor: pointer;" class="backbtn pull-right" id="backbtn"><span class="fas fa-long-arrow-alt-left"></span> Back</a></h4>   
                <div class="row" *ngIf="hasNoRecord">
                  <div class="col-12">
                    <table class="table">
                      <thead>
                        <th>
                          <p>No records available </p>
                        </th>
                      </thead>
    
                    </table>
                  </div>
                </div>
                    <div class="row" *ngIf="!hasNoRecord">
                       <div class="col-md-12">
                        <div class="row table-responsive material-datatables" id="transactionID" cellspacing="0" width="100%" style="width:100%" *ngIf="!hasNoRecord">
                          <div class="col-md-12">
                            <mat-form-field>
                              <mat-label>Filter</mat-label>
                              <input matInput (keyup)="applyFilter($event)" placeholder="Ex. Mia">
                            </mat-form-field>
            
                            <div class="mat-elevation-z8 table-responsive table-bordered material-datatables"  cellspacing="0" width="100%" style="width:100%">
                              <table mat-table [dataSource]="dataSource" matSort >
            
                                <!-- ID Column -->
                                <ng-container matColumnDef="id">
                                  <th mat-header-cell *matHeaderCellDef mat-sort-header> SR </th>
                                  <td mat-cell *matCellDef="let i = index"> {{i + 1}} </td>
                                </ng-container>
            
                                <!-- Progress Column -->
                                <ng-container matColumnDef="beneficiary" >
                                  <th mat-header-cell *matHeaderCellDef mat-sort-header> Beneficiary </th>
                                  <td mat-cell *matCellDef="let row"> {{row.beneName}} </td>
                                </ng-container>
                                <ng-container matColumnDef="bcountry" >
                                  <th mat-header-cell *matHeaderCellDef mat-sort-header> Country </th>
                                  <td mat-cell *matCellDef="let row"> {{row.beneCountry}} </td>
                                </ng-container>
            
                                <!-- Name Column -->
                                <ng-container matColumnDef="applicant" >
                                  <th mat-header-cell *matHeaderCellDef mat-sort-header> Applicant </th>
                                  <td mat-cell *matCellDef="let row"> {{row.applicantName}} </td>
                                </ng-container>
                                <ng-container matColumnDef="acountry" >
                                  <th mat-header-cell *matHeaderCellDef mat-sort-header> Country </th>
                                  <td mat-cell *matCellDef="let row"> {{row.applicantCountry}} </td>
                                </ng-container>
            
                                <!-- Color Column -->
                               
                                <ng-container matColumnDef="txnID" >
                                  <th mat-header-cell *matHeaderCellDef mat-sort-header> Txn ID </th>
                                  <td mat-cell *matCellDef="let row"> {{row.transactionId}} </td>
                                </ng-container>
                                <ng-container matColumnDef="dateTime" >
                                  <th mat-header-cell *matHeaderCellDef mat-sort-header> Date </th>
                                  <td mat-cell *matCellDef="let row"> {{row.insertedDate | date: 'dd-MM-yyyy'}} </td>
                                </ng-container>
                                <ng-container matColumnDef="validity" >
                                  <th mat-header-cell *matHeaderCellDef mat-sort-header> Validity </th>
                                  <td mat-cell *matCellDef="let row"> {{row.validity | date: 'dd-MM-yyyy'}} </td>
                                </ng-container>
                                <ng-container matColumnDef="ib">
                                  <th mat-header-cell *matHeaderCellDef mat-sort-header> IB </th>
                                  <td mat-cell *matCellDef="let row"> {{row.lCIssuanceBank}} </td>
                                </ng-container>
                                <ng-container matColumnDef="amount">
                                  <th mat-header-cell *matHeaderCellDef mat-sort-header> Amount </th>
                                  <td mat-cell *matCellDef="let row"> {{row.lCValue}} </td>
                                </ng-container>
                                <ng-container matColumnDef="ccy">
                                  <th mat-header-cell *matHeaderCellDef mat-sort-header> Ccy </th>
                                  <td mat-cell *matCellDef="let row"> {{row.lCCurrency}} </td>
                                </ng-container>
                                <ng-container matColumnDef="goods">
                                  <th mat-header-cell *matHeaderCellDef mat-sort-header> Goods </th>
                                  <td mat-cell *matCellDef="let row"> {{row.goodsType}} </td>
                                </ng-container>
                                <ng-container matColumnDef="requirement">
                                  <th mat-header-cell *matHeaderCellDef mat-sort-header> Requirement </th>
                                  <td mat-cell *matCellDef="let row"> {{row.requirementType}} </td>
                                </ng-container>
                                <ng-container *ngIf="receivedQuotes == 0" matColumnDef="receivedQuotes">
                                  <th mat-header-cell *matHeaderCellDef mat-sort-header> Received Quotes </th>
                                  <td mat-cell *matCellDef="let row"> {{row.quotationReceived}}</td>
                                </ng-container>
                                <ng-container *ngIf="receivedQuotes != 0" id="transactionDiv" style="cursor: pointer;text-decoration:underline;" (click)="showQuoteDetail(record.transactionId)" class="transactionDiv" matColumnDef="receivedQuotes">
                                  <th mat-header-cell *matHeaderCellDef mat-sort-header> Received Quotes </th>
                                  <td mat-cell *matCellDef="let row"> {{row.quotationReceived}}</td>
                                </ng-container>
                                <ng-container matColumnDef="star" >
                                  <th mat-header-cell *matHeaderCellDef="let row">Action</th>
                                  <td mat-cell *matCellDef="let row" (click)="showQuotePage(row.requirementType,0,row)"
                                                class="handle btn btn-info btn-round">
                                                View / Edit
                                                <div class="ripple-container"></div>
                                  </td>
                                </ng-container>                                
            
                                <tr mat-header-row *matHeaderRowDef="displayedColumns;"></tr>
                                <tr mat-row *matRowDef="let row; columns: displayedColumns;">
                                </tr>
                              </table>
            
                              <mat-paginator [pageSizeOptions]="[5, 10, 25, 100]"></mat-paginator>
                            </div>
                          </div>
                        </div>
                          
                    
                    <div class="clearfix"></div>
              </div>
           </div>
        </div>
     </div>
  </div>
</div>

<div id="menu-barnew" class="offcanvas">
  <div class="popupcontent">
    <div class="card">
      <div class="card-content">
        <h4>Place Quote</h4>
        <div class="tab-content" id="tab1">
          <div class="tab-pane active" id="pill1">
            <table class="table">
              <thead>
                <tr>
                  <th>Transaction ID</th>
                  <th *ngIf="getSpecificDetail">{{getSpecificDetail.transactionId}}</th>
                </tr>
              </thead>
              <tbody>
                <tr>
                  <td>Bank</td>
                  <td>** <br>
                    Quotes placed till date 214
                    Quotes for Matress 23</td>
                </tr>
                <tr>
                  <td>Confirmation Charges</td>
                  <td *ngIf="getSpecificDetail">{{getSpecificDetail.confirmationCharges}}</td>
                </tr>
                <tr>
                  <td>Confirmation Charges applicable from date of issuance till negotiation date </td>
                  <td *ngIf="getSpecificDetail">{{getSpecificDetail.confChgsIssuanceToNegot}}</td>
                </tr>
                <tr>
                  <td>Confirmation Charges applicable from date of issuance till date of maturity</td>
                  <td *ngIf="getSpecificDetail">{{getSpecificDetail.confChgsIssuanceToMatur}}</td>
                </tr>
                <tr>
                  <td>Minimum Transaction Charges</td>
                  <td *ngIf="getSpecificDetail">{{getSpecificDetail.minTransactionCharges}}</td>
                </tr>
                <tr>
                  <td>Other Charges</td>
                  <td *ngIf="getSpecificDetail">{{getSpecificDetail.otherCharges}} <br>
                    Comment: SWIFT Charges</td>
                </tr>
                <tr>
                  <td>Valid Till</td>
                  <td *ngIf="getSpecificDetail">{{getSpecificDetail.validityDate}}</td>
                </tr>
                <tr>
                  <th>Total Quote</th>
                  <th *ngIf="getSpecificDetail">{{getSpecificDetail.totalQuoteValue}} </th>
                </tr>
                <tr>
                  <td colspan="2">Note : The applicable benchmark will be applicable as of transaction date, actual
                    quote from the bank may differ to that extent.</td>
                </tr>
              </tbody>
            </table>
            <div class="posfix">
              <button type="submit" class="btn btn-info pull-right handle1" (click)="closeOffcanvas()">
                Ok
                <div class="ripple-container"></div>
              </button>
              <!--    <a href="javascript:void()" id="btnEdit" class="pull-right linkbtn" style="margin-right: 5px;">Edit</a> -->
            </div>
          </div>
        </div>
        <div class="tab-content" id="tab3">
          <div class="tab-pane active" style="margin-top: 50%;text-align: center;" id="pill1">
            <table class="table">
              <tbody>
                <tr>
                  <td colspan="2" class="text-center">
                    <p style="text-align: center;">Your Quote has been placed successfully.<br> Check Active Transaction
                      Section to see your current rank.</p>
                  </td>
                </tr>
              </tbody>
            </table>
            <div class="posfix">
              <a (click)="closeOffcanvas()" class="btn btn-info">
                OK
                <div class="ripple-container"></div>
              </a>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>

<div id="myModal4" class="popupnew modal fade in" role="dialog">
  <div class="modal-dialog modal-md emaildiv">
    <!-- Modal content-->
    <div class="modal-content">
      <div class="modal-body">
        <h2>Quote Accepted</h2>
        <div class="padnew">
          <!--<p><strong>Enter Email ID here</strong></p> -->
          <div class="">
            <div class="row">
              <div class="col-md-12">
                <!-- <p class="head"><strong>Congratulations!</strong><br />You've saved <strong>$100</strong> by accepting
                  this Bid.</p> -->

                <ul class="list-unstyled">
                  <li><strong>Bank Details</strong></li>
                  <li>Bank : {{acceptedDetails.bankName}}</li>
                  <li>Branch : {{acceptedDetails.branchName}}</li>
                  <li>Country : {{acceptedDetails.registeredCountry}}</li>
                  <li>Email : {{acceptedDetails.emailId}}</li>
                  <li>Contact : {{acceptedDetails.telephone}}</li>
                  <li>Contact Person : {{acceptedDetails.firstName}}{{acceptedDetails.lastName}}</li>
                </ul>
                <p>Details are saved in the Transaction Details section.</p>
                <button type="submit" class="btn btn-info pull-right" (click)="redirectAsAccepted()" data-dismiss="modal">Ok<div
                    class="ripple-container">
                    <div class="ripple ripple-on ripple-out"
                      style="left: 42.8594px; top: 20px; background-color: rgb(255, 255, 255); transform: scale(9.35742);">
                    </div>
                  </div></button>
              </div>
            </div>
          </div>

        </div>

      </div>
    </div>
  </div>
</div>

  <app-banker></app-banker>
  <app-confirm-and-discount></app-confirm-and-discount>
  <app-confirmation></app-confirmation>
  <app-discounting></app-discounting>
  <app-refinancing></app-refinancing>